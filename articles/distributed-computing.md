---
title: Distributed computing
description: ~
date: 2021-02-21
---

* 在一个完全异步的分布式系统里, 如果至少有一台机器可能会出故障, 则不存在非随机的共识算法.

```
1. 机器故障
2. 完全异步

分布式系统

1. 分布式系统 至少由 3 台机器组成
2. 每台机器都有 初始状态 (State)
3. 分布式系统是一个封闭系统, 没有外界输入

共识
1. 终止性 termination
2. 一致性 agreement
3. 有效性 validity

消息
1. 消息的发送是异步的, 即: 发送了一条消息后, 不一定能收到 Ack
2. 收到消息的时间间隔没有任何假设
3. 消息系统本身的运行是完美的
4. 所有消息只会被处理一次
5. 消息的接收是异步的, 即: 消息的接收顺序是完全随机的
```

|            | 拜占庭容错 | 一致性 |  性能  | 可用性 |
| ---------- |:--------:|:-----:|:------:|:-----:|
|     2PC    |    N     |  强   |        |       |
|     TCC    |    N     |  最终 |        |       |
|     Raft   |    N     |  强   |        |       |
|    Gossip  |    N     |  最终 |    H   |   H   |
| Quorum NWR |    N     |  强   |        |       |
|     PBFT   |    Y     |       |        |       |
|     PoW    |    Y     |       |        |       |

* CAP
  - C -> ACID
  - A -> Base

* [The Raft Consensus Algorithm](https://raft.github.io)

```
Raft 的设计目标是 强一致性 (线性一致性)
Raft 可以提供 强一致性, 也可以提供 最终一致性
```
